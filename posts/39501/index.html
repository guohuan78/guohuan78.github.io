<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="baidu-site-verification" content="code-KUVTzM5ytZ">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"guohuan78.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.9.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="åå‡ è¡Œçš„ Python è°ƒç”¨å‘½ä»¤è¡Œï¼Œåˆ©ç”¨ Squoosh å®ç°æœ¬åœ°æ‰¹é‡å‹ç¼©å›¾ç‰‡ï¼Œå†…å«æºç ä¸ä½¿ç”¨æ•™ç¨‹ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="PythonåŠ Squooshæ‰¹é‡å‹ç¼©å›¾ç‰‡">
<meta property="og:url" content="https://guohuan78.github.io/posts/39501/index.html">
<meta property="og:site_name" content="ç† | ä¸ªäººåšå®¢">
<meta property="og:description" content="åå‡ è¡Œçš„ Python è°ƒç”¨å‘½ä»¤è¡Œï¼Œåˆ©ç”¨ Squoosh å®ç°æœ¬åœ°æ‰¹é‡å‹ç¼©å›¾ç‰‡ï¼Œå†…å«æºç ä¸ä½¿ç”¨æ•™ç¨‹ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://guohuan78.github.io/posts/39501/screen_shot.jpg">
<meta property="og:image" content="https://guohuan78.github.io/posts/39501/error.jpg">
<meta property="article:published_time" content="2022-01-19T13:25:49.000Z">
<meta property="article:modified_time" content="2022-01-19T13:25:49.000Z">
<meta property="article:author" content="ç†">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://guohuan78.github.io/posts/39501/screen_shot.jpg">


<link rel="canonical" href="https://guohuan78.github.io/posts/39501/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://guohuan78.github.io/posts/39501/","path":"posts/39501/","title":"PythonåŠ Squooshæ‰¹é‡å‹ç¼©å›¾ç‰‡"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>PythonåŠ Squooshæ‰¹é‡å‹ç¼©å›¾ç‰‡ | ç† | ä¸ªäººåšå®¢</title>
  

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?1100fccdafaa0f574ee06db8ff4743e6"></script>



<link rel="dns-prefetch" href="blog-api-guohuan78.vercel.app">
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">ç† | ä¸ªäººåšå®¢</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Squoosh-%E4%BB%8B%E7%BB%8D"><span class="nav-text">Squoosh ä»‹ç»</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="nav-text">ç¯å¢ƒå‡†å¤‡</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-Squoosh"><span class="nav-text">å®‰è£… Squoosh</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Python-%E6%BA%90%E7%A0%81"><span class="nav-text">Python æºç </span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8"><span class="nav-text">ä½¿ç”¨</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91"><span class="nav-text">è¸©è¿‡çš„å‘</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ç†"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">ç†</p>
  <div class="site-description" itemprop="description">ç»ä¸åœ¨æ— èŠçš„äººå’Œäº‹å„¿ä¸Šæµªè´¹æ—¶é—´ï¼Œå“ªæ€•ä¸€å¤©ã€‚</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/guohuan78" title="My GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;guohuan78" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>My GitHub</a>
      </span>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="è¿”å›é¡¶éƒ¨">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://guohuan78.github.io/posts/39501/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="ç†">
      <meta itemprop="description" content="ç»ä¸åœ¨æ— èŠçš„äººå’Œäº‹å„¿ä¸Šæµªè´¹æ—¶é—´ï¼Œå“ªæ€•ä¸€å¤©ã€‚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç† | ä¸ªäººåšå®¢">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          PythonåŠ Squooshæ‰¹é‡å‹ç¼©å›¾ç‰‡
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2022-01-19 21:25:49" itemprop="dateCreated datePublished" datetime="2022-01-19T21:25:49+08:00">2022-01-19</time>
    </span>

  
    <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Walineï¼š</span>
  
    <a title="waline" href="/posts/39501/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/posts/39501/" data-xid="/posts/39501/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>3.1k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>5 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>åå‡ è¡Œçš„ Python è°ƒç”¨å‘½ä»¤è¡Œï¼Œåˆ©ç”¨ Squoosh å®ç°æœ¬åœ°æ‰¹é‡å‹ç¼©å›¾ç‰‡ï¼Œå†…å«æºç ä¸ä½¿ç”¨æ•™ç¨‹ã€‚</p>
<span id="more"></span>

<h1 id="Squoosh-ä»‹ç»"><a href="#Squoosh-ä»‹ç»" class="headerlink" title="Squoosh ä»‹ç»"></a>Squoosh ä»‹ç»</h1><p>ç½‘ç«™ä¼ é€é—¨ï¼š<a target="_blank" rel="noopener" href="https://squoosh.app/">Squoosh</a> è°·æ­Œæ¨å‡ºçš„åœ¨çº¿å…è´¹å›¾åƒå‹ç¼©å·¥å…·ã€‚</p>
<p>GitHub : <a target="_blank" rel="noopener" href="https://github.com/GoogleChromeLabs/squoosh">GoogleChromeLabs&#x2F;squoosh: Make images smaller using best-in-class codecs, right in the browser. (github.com)</a></p>
<p>è‹¥æ˜¯åªéœ€å¤„ç†ä¸€å¼ å›¾ç‰‡ï¼Œå¯ä»¥ç›´æ¥ç”¨ç½‘é¡µç‰ˆï¼Œå¾ˆæ–¹ä¾¿é«˜æ•ˆã€‚</p>
<p>å¾ˆå¥½ç”¨ï¼Œå¯æƒœåœ¨çº¿ç½‘é¡µæ²¡æœ‰æ‰¹é‡å‹ç¼©çš„é€‰é¡¹ï¼Œæˆ‘ä¸€å¼€å§‹æ˜¯åå‡ å¼ å›¾ç‰‡ä¸€å¼ ä¸€å¼ ä¸Šä¼ ä¸‹è½½ï¼Œè‡ªå·±æƒ³ç€èƒ½ä¸èƒ½æä¸€ä¸ªæ‰¹å¤„ç†åŠŸèƒ½å‘¢ï¼Ÿ</p>
<p>å¾ˆå¼€å¿ƒå®ç°äº†ï¼Œæœ¬åœ°æ‰¹é‡å›¾ç‰‡å‹ç¼©ã€‚</p>
<h1 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h1><p>python ç¯å¢ƒï¼šæˆ‘çš„ 3.9ï¼Œåº”è¯¥ python3 éƒ½è¡Œ</p>
<p>ç”±äºæ˜¯ç”¨ npm å®‰è£… Squooshï¼Œå…ˆä¿è¯å®‰è£…äº† Node.js</p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/nodejs/nodejs-install-setup.html">Node.js å®‰è£…é…ç½® | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p>
<h1 id="å®‰è£…-Squoosh"><a href="#å®‰è£…-Squoosh" class="headerlink" title="å®‰è£… Squoosh"></a>å®‰è£… Squoosh</h1><p>å‘½ä»¤è¡Œè¾“å…¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g @squoosh/cli</span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥ Squooh æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">squoosh-cli -v</span><br></pre></td></tr></table></figure>

<h1 id="Python-æºç "><a href="#Python-æºç " class="headerlink" title="Python æºç "></a>Python æºç </h1><p>éå¸¸éª„å‚²ï¼Œè¿™æ¬¡ä»£ç æˆ‘çœŸçš„æ˜¯åŸåˆ›ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># ç›´æ¥å¤åˆ¶ä¸¤ä¸ªåœ°å€æ è·¯å¾„srcå’Œdesåˆ†åˆ«å¡«å…¥å‰ä¸€ä¸ªå¼•å·é‡Œé¢</span></span><br><span class="line">src_folder = <span class="string">r&#x27;&#x27;</span>+<span class="string">&#x27;\\&#x27;</span></span><br><span class="line">des_folder = <span class="string">r&#x27;&#x27;</span>+<span class="string">&#x27;\\&#x27;</span></span><br><span class="line"></span><br><span class="line">files = os.listdir(src_folder)</span><br><span class="line"><span class="comment"># è¿™é‡Œçš„configæ˜¯ç½‘é¡µé»˜è®¤çš„å‹ç¼©é…ç½®</span></span><br><span class="line">config = <span class="string">&#x27;[\&#x27;&#123;&quot;quality&quot;:75,&quot;baseline&quot;:false,&quot;arithmetic&quot;:false,&quot;progressive&quot;:true,&quot;optimize_coding&quot;:true,&quot;smoothing&quot;:0,&quot;color_space&quot;:3,&quot;quant_table&quot;:3,&quot;trellis_multipass&quot;:false,&quot;trellis_opt_zero&quot;:false,&quot;trellis_opt_table&quot;:false,&quot;trellis_loops&quot;:1,&quot;auto_subsample&quot;:true,&quot;chroma_subsample&quot;:2,&quot;separate_chroma_quality&quot;:false,&quot;chroma_quality&quot;:75&#125;\&#x27;]&#x27;</span></span><br><span class="line"><span class="comment"># æ”¯æŒ jpg png webp æ ¼å¼</span></span><br><span class="line">format_dic = &#123;<span class="string">&#x27;jpg&#x27;</span>:<span class="string">&quot;--mozjpeg&quot;</span>,<span class="string">&#x27;png&#x27;</span>:<span class="string">&quot;--oxipng&quot;</span>,<span class="string">&#x27;webp&#x27;</span>:<span class="string">&quot;--webp&quot;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> files:</span><br><span class="line">    src_path = src_folder + i</span><br><span class="line">    suffix = i.split(<span class="string">&#x27;.&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">print</span>(src_path)</span><br><span class="line">    <span class="keyword">if</span> os.path.isfile(src_path) <span class="keyword">and</span> suffix <span class="keyword">in</span> format_dic:</span><br><span class="line">        <span class="comment"># é€šè¿‡ç”¨ python è°ƒç”¨å‘½ä»¤è¡Œæ¥å®ç°æ‰¹å¤„ç†</span></span><br><span class="line">        os.system(<span class="string">&quot;squoosh-cli &quot;</span> + format_dic[suffix] + <span class="string">&quot; &quot;</span> + config + <span class="string">&quot; &quot;</span> + src_path + <span class="string">&quot; -d &quot;</span> + des_folder)</span><br></pre></td></tr></table></figure>

<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><p>è®¾ç½®å¥½ python ä»£ç  ä¸‰å›› è¡Œçš„ src å’Œ des è·¯å¾„ï¼Œç›´æ¥è¿è¡Œå³å¯ã€‚</p>
<hr>
<p><strong>è¿›é˜¶ç©æ³•ï¼š</strong></p>
<p>å°† des è·¯å¾„å¡«ä¸ºä¸ src ç›¸åŒå¯åŸåœ°å¤„ç†ï¼Œæ­¤æ—¶åŸæ–‡ä»¶ä¼šè¢«è¦†ç›–ï¼Œæ— æ³•æ‰¾å›ï¼Œè°¨æ…ä½¿ç”¨ã€‚</p>
<p>config å¯ä»¥è‡ªå·±è°ƒæ•´ï¼Œä¸€ä¸ªå¥½çš„åŠæ³•æ˜¯è‡ªå·±åœ¨ç½‘é¡µä¿®æ”¹ä¸ºåˆé€‚çš„å‚æ•°ï¼Œåœ¨ç½‘é¡µå¯ä»¥å®æ—¶æŸ¥çœ‹æ•ˆæœã€‚è°ƒæ•´åˆé€‚åï¼Œé€šè¿‡ç½‘é¡µå³è¾¹çš„ <code>Copy npx command</code>æ¥å¤åˆ¶ï¼š</p>
<img src="/posts/39501/screen_shot.jpg" class="">

<p>å¾—åˆ°ç±»ä¼¼å¦‚ä¸‹å†…å®¹ï¼š</p>
<p>npx @squoosh&#x2F;cli â€“mozjpeg â€˜{<strong>â€œqualityâ€:75,â€baselineâ€:false,â€arithmeticâ€:false,â€progressiveâ€:true,â€optimize_codingâ€:true,â€smoothingâ€:0,â€color_spaceâ€:3,â€quant_tableâ€:3,â€trellis_multipassâ€:false,â€trellis_opt_zeroâ€:false,â€trellis_opt_tableâ€:false,â€trellis_loopsâ€:1,â€auto_subsampleâ€:true,â€chroma_subsampleâ€:2,â€separate_chroma_qualityâ€:false,â€chroma_qualityâ€:75</strong>}â€™</p>
<p>èŠ±æ‹¬å·å†…çš„å†…å®¹ç›´æ¥æ›´æ¢ config ä¸­èŠ±æ‹¬å·çš„å†…å®¹å°±æ›´æ”¹äº†å›¾ç‰‡å‹ç¼©é…ç½®ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸åŒæ ¼å¼çš„æ–‡ä»¶å¯èƒ½å¤„ç†æ•ˆæœä¸åŒã€‚</p>
<p>é»˜è®¤ä¼šå¤„ç† jpg png webp ä¸‰ç§æ ¼å¼çš„å›¾ç‰‡ï¼Œæ–‡ä»¶å¤¹å’Œå…¶ä»–ç±»å‹çš„æ–‡ä»¶ä¼šè¢«å¿½ç•¥ï¼Œå¤„ç†å®Œæˆåè¿˜æŒ‰åŸæ ¼å¼è¾“å‡ºã€‚å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå°† png æ”¹ä¸º jpg æ ¼å¼å‹ç¼©è¾“å‡ºä¼šæ›´å°ï¼ŒæŠŠ <code>format_dic</code> ä¸­ <code>&#39;png&#39;:&quot;--oxipng&quot;</code>æ”¹ä¸º<code>&#39;png&#39;:&quot;--mozjpeg&quot;</code>å³å¯å®ç°å°† png å›¾ç‰‡å‹ç¼©ä¸º jpg å›¾ç‰‡ã€‚</p>
<h1 id="è¸©è¿‡çš„å‘"><a href="#è¸©è¿‡çš„å‘" class="headerlink" title="è¸©è¿‡çš„å‘"></a>è¸©è¿‡çš„å‘</h1><p>ä¸€å¼€å§‹æ²¡æœ‰è‡ªå·±é…ç½® configï¼Œä½¿ç”¨äº†å®ƒæä¾›çš„ <code>--auto</code> é€‰é¡¹ï¼Œå‹ç¼©ç‡æš‚ä¸”ä¸æï¼ˆäº‹å®ä¸Šä¹Ÿä¸å¥½ï¼‰ï¼Œå›¾ç‰‡å¤§çš„è¯ï¼ˆå››äº”å…†ï¼‰ï¼Œä¼šç›´æ¥æŠ¥é”™é€€å‡ºã€‚</p>
<img src="/posts/39501/error.jpg" class="">

<p>æˆ‘æƒ³äº†ä¸€ä¸‹ï¼Œæœ¬åœ°å‹ç¼©ä¼šæŠ¥é”™ï¼Œåœ¨çº¿å‹ç¼©ç§’å‡ºç»“æœã€‚æˆ‘åˆæ­¥çŒœæƒ³æ˜¯è‡ªå·±ç”µè„‘ä¸Š CPU ç®—åŠ›æœ‰é™ï¼Œå†…å­˜å æ»¡äº†ï¼Œè€Œç½‘é¡µçš„é‚£ç«¯å¯èƒ½ä¼šæœ‰å¾ˆå¤§çš„å¤„ç†å™¨é›†ç¾¤ï¼Œæ‰€ä»¥ç§’å‡ºã€‚</p>
<p>æˆ‘éƒ½å·²ç»æ‰“ç®—æ”¾å¼ƒæœ¬åœ°å¤„ç†äº†ï¼Œå¯»æ±‚ç”¨ python æäº¤å›¾ç‰‡åˆ°ç½‘é¡µå¤„ç†ï¼Œå†å–å›ç»“æœçš„åœ¨çº¿å¤„ç†æ–¹æ³•ã€‚å¯æƒœæˆ‘ä¸ä¼šç”¨ python æäº¤å›¾ç‰‡ï¼Œæ›´ä¸ä¼šå–å›ç»“æœï¼Œå¯¹ç½‘é¡µçš„æ“ä½œçŸ¥é“çš„å¾ˆæœ‰é™ã€‚</p>
<p>ä¸‡ç±ä¿±ç°ä¹‹é™…ï¼Œæˆ‘å°±è‡ªå·±åœ¨ç½‘é¡µä¸Šç©ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ª copy æŒ‡ä»¤çš„åœ°æ–¹ï¼Œæ‹¿åˆ°äº†ç½‘é¡µé»˜è®¤å‹ç¼©å›¾ç‰‡çš„é…ç½®ã€‚è™½ç„¶æ˜¯ npx æŒ‡ä»¤ï¼Œæˆ‘ä»¥æ•é”çš„æ´å¯ŸåŠ›è§‚å¯Ÿåˆ°åé¢çš„ä¸€å¤§å †ä¸œè¥¿å°±æ˜¯é…ç½®ã€‚</p>
<p>æ‹¿åˆ°é…ç½®ï¼Œæˆ‘ç›´æ¥æŠŠå®ƒæ›¿æ¢äº† <code>--auto</code> ï¼Œä¸å¦™ï¼Œè¿è¡Œé”™è¯¯ã€‚</p>
<p>å‘½ä»¤è¡Œçš„ README.md ä¸­ï¼Œç»™å‡ºæŒ‡ä»¤å½¢å¼ä¸º <code>--mozjpeg [config]</code>ï¼Œèµ·åˆæˆ‘ä»¥ä¸ºæ–¹æ‹¬å·<code>[]</code>ä¸ºå ä½ç¬¦ï¼Œç›´æ¥æŠŠæ•´ä¸ªæ›¿æ¢äº†ã€‚</p>
<div class="note info"><p>é©¬å…‹æ€ä¸»ä¹‰åŸºæœ¬åŸç†è¯´çš„æ²¡é”™ï¼Œäººçš„æ„è¯†å…·æœ‰åˆ›é€ æ€§ã€‚ </p>
</div>

<p>æˆ‘ä¿ç•™äº†æ–¹æ‹¬å·ï¼Œå†…éƒ¨å¡«å…¥é…ç½®ï¼Œè¿è¡ŒæˆåŠŸï¼</p>
<p>æ‰€ä»¥ç°åœ¨çš„é…ç½®å’Œç›´æ¥æŠŠå›¾ç‰‡æ‹–åˆ°ç½‘é¡µçš„å¤„ç†æ•ˆæœç›¸åŒã€‚</p>
<p>è¿™é‡Œé¢çš„æ¯ä¸ªå‘ï¼Œæˆ‘éƒ½ä»¥ä¸ºæ˜¯æ­»èƒ¡åŒï¼Œä½†äººçš„ä¸»è§‚èƒ½åŠ¨æ€§æ˜¯å¾ˆå¼ºçš„ï¼Œæ— æ³•è§£é‡Šæˆ‘æ€ä¹ˆå°±çªç„¶æƒ³åˆ°äº†è§£å†³åŠæ³•ï¼Œå¯æˆ‘å°±æ˜¯æƒ³å‡ºæ¥äº†è§£å†³åŠæ³•ï¼Œä½†å‡¡æœ‰ä¸€æ­¥æƒ³ä¸å‡ºæ¥ï¼Œæ•´ä¸ªå·¥ç¨‹å°±æŒ‚äº†ã€‚</p>
<div class="note danger"><p>ç»æœ›ä¹‹å¤„ï¼Œå¯»æ‰¾å¸Œæœ›ã€‚ </p>
</div>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div></div>
  <button>
    èµèµ
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.png" alt="ç† å¾®ä¿¡">
        <span>å¾®ä¿¡</span>
      </div>

  </div>
</div>


        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/posts/566/" rel="prev" title="å››ç§å„å…·ç‰¹è‰²çš„çº¸é£æœºæŠ˜æ³•">
                  <i class="fa fa-chevron-left"></i> å››ç§å„å…·ç‰¹è‰²çš„çº¸é£æœºæŠ˜æ³•
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/posts/40193/" rel="next" title="è¯„è®ºåŒºæ”¹ç‰ˆ">
                  è¯„è®ºåŒºæ”¹ç‰ˆ <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments" id="waline-comments"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2021.12.31 â€“ 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ç†</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">34k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">57 åˆ†é’Ÿ</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>




  <script src="/js/third-party/pace.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




<script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"blog-api-guohuan78.vercel.app","placeholder":"è¯·æ–‡æ˜è¯„è®ºå‘€","avatar":"mm","pageSize":10,"visitor":false,"comment_count":true,"requiredFields":[],"meta":["nick","mail","link"],"libUrl":"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js","dark":"body.darkmode--activated","el":"#waline-comments","path":"/posts/39501/"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() => 
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => {
    new Waline(CONFIG.waline);
  });
});
</script><script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '32px',
  right: 'unset',
  left: '32px',
  time: '1s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>

</body>
</html>
